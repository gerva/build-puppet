####  This file under configuration management control
####  DO NOT EDIT MANUALLY

<VirtualHost *:80>
    DocumentRoot /opt/bmm/www

    <Directory /opt/bmm/www/>
        Options None FollowSymLinks Indexes
        AllowOverride None
        Order Allow,Deny
        Allow from all
     </Directory>

     <Location />
         Order Allow,Deny
         Allow from all
     </Location>

     <Location /scripts>
         Order Allow,Deny
         Allow from all
     </Location>

     <Location /squashfs>
         Order Allow,Deny
         Allow from all
     </Location>

     # alias parts of the frontend to the appropriate directory
     Alias /js /opt/bmm/frontend/lib/python2.7/site-packages/bmm/html/js
     Alias /css /opt/bmm/frontend/lib/python2.7/site-packages/bmm/html/css
     Alias /index.html /opt/bmm/frontend/lib/python2.7/site-packages/bmm/html/index.html

     # redirect / to /index.html
     RedirectMatch ^/$ /index.html

     # and proxy /api to the BMM daemon
     <Location /api>
        ProxyPass http://127.0.0.1:8010/api
        ProxyPassReverse http://127.0.0.1:8010/api
     </Location>
</VirtualHost>

